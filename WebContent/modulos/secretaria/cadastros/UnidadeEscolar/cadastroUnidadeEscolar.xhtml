<!DOCTYPE html>
<h:html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:composition template="/resources/templates/sisEducar/menuPrincipal.xhtml">
		<ui:define name="barraNavegacao">
			<li>
				<i class="ace-icon glyphicon glyphicon-floppy-disk"/>Cadastros
			</li>
			<li class="active">
				<i class="ace-icon fa fa-flag"></i>
				Unidade Escolar 
			</li>
		</ui:define>

		<ui:define name="scriptConteudo">			
			<div class="page-content">
				<div class="page-header">
					<h1>
						Cadastro
						<small>
							<i class="ace-icon fa fa-angle-double-right"></i>
							Cadastro Unidade Escolar
						</small>
					</h1>
				</div>
				
				<div class="row">
					<div class="col-sm-12">
						<h:form id="formPrincipal">
							<div class="clearfix form-actions">
								<h3 class="header smaller lighter blue">Informações Principais</h3>
								<div class="col-xs-12 col-sm-5">
									<div>
										<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.codigo']}"/>
										<span class="block input-icon input-icon-right">
											<h:inputText type="text" class="form-control" value="#{unidadeEscolarServlet.unidadeEscolar.codigo}" maxlength="11" required="true"
											requiredMessage="#{mensagens['mensagem.requerido.unidadeEscolar.codigo']}"></h:inputText>
											<i class="ace-icon fa fa-key"></i>
										</span>
									</div>
								</div>
								<div class="col-xs-12">
									<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.nome']}"/>
									<div>
										<span class="block input-icon input-icon-right">
											<h:inputText type="text" class="form-control" value="#{unidadeEscolarServlet.unidadeEscolar.nome}" maxlength="100" required="true"
											requiredMessage="#{mensagens['mensagem.requerido.unidadeEscolar.nome']}"></h:inputText>
											<i class="ace-icon fa fa-user"></i>
										</span>
									</div>
									<div class="space-4"></div>
								</div>
								<div class="form-group">
									<div class="col-xs-12 col-sm-4">
										<h:outputLabel value="CPF do diretor"/>
										<div>
											<h:inputText type="text" id="numCpfDiretor" value="#{unidadeEscolarServlet.cpfDiretor}" styleClass="col-sm-12 cpf">
												<p:ajax event="change" listener="#{unidadeEscolarServlet.buscarInformacoesDiretor}" update="nomeDiretor"/>
												<f:validator validatorId="validar.CpfValidator"/>
												<f:converter converterId="converter.CPF"/>
											</h:inputText>
										</div>
									</div>
									<div class="col-xs-12 col-sm-8">
										<h:outputLabel value="Nome do diretor"/>
										<div>
											<h:inputText type="text" id="nomeDiretor" class="col-sm-12"	value="#{unidadeEscolarServlet.nomeDiretor}" disabled="true"/>
										</div>
									</div>
								</div>
								<div class="col-xs-12 col-sm-6">
									<h:outputLabel value="#{mensagens['label.cadastro.aluno.rede.ensino']}"/>
									<div>
										<h:selectOneMenu class="form-control" id="codRedeEnsino"
											value="#{unidadeEscolarServlet.redeEnsinoDado.pkRedeEnsino}">
											<f:selectItem itemValue="" itemLabel="Selecione..." />
											<f:selectItems value="#{unidadeEscolarServlet.comboRedeEnsino}" var="redeEnsino" itemValue="#{redeEnsino.pkredeEnsino}" itemLabel="#{redeEnsino.nome}"/>
										</h:selectOneMenu>
									</div>
									<div class="space-4"></div>
								</div>
								<div class="col-xs-12 col-sm-6">
									<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.situacaoFuncionamento']}"/>
									<div>
										<h:selectOneMenu class="form-control" id="codSituFunc"
											value="#{unidadeEscolarServlet.situacaoFuncionamentoDado.pkSituacaoFuncionamento}">
											<f:selectItem itemValue="" itemLabel="Selecione..." />
											<f:selectItems value="#{unidadeEscolarServlet.comboSituacaoFuncionamento}" var="situacaoFuncionamento" itemValue="#{situacaoFuncionamento.pkSituacaoFuncionamento}" itemLabel="#{situacaoFuncionamento.nome}"/>
										</h:selectOneMenu>
									</div>
									<div class="space-4"></div>
								</div>
								<div class="col-xs-12 col-sm-6">
									<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.tipoOcupacao']}"/>
									<div>
										<h:selectOneMenu class="form-control" id="codTipoOcu"
											value="#{unidadeEscolarServlet.tipoOcupacaoDado.pkTipoOcupacao}">
											<f:selectItem itemValue="" itemLabel="Selecione..." />
											<f:selectItems value="#{unidadeEscolarServlet.comboTipoOcupacao}" var="tipoOcupacao" itemValue="#{tipoOcupacao.pkTipoOcupacao}" itemLabel="#{tipoOcupacao.nome}"/>
										</h:selectOneMenu>
									</div>
								</div>
							</div>
							
							<h:panelGroup id="enderePessoa" style="width: 100%"
							class="clearfix form-actions">
								<div id="conteudoEndereco">
									<h3 class="header smaller lighter blue">Endereço/Contato</h3>
										<div class="col-xs-12 col-sm-3">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.pais']}"/>
											<div>
												<h:selectOneMenu id="codPais"
													class="form-control" title="Pais residente"
													value="#{unidadeEscolarServlet.paisDado.pkPais}">
													<f:selectItem itemValue="" itemLabel="Selecione..."/>
													<f:selectItems value="#{unidadeEscolarServlet.comboPais}"
														var="pais" itemLabel="#{pais.nome}" itemValue="#{pais.pkPais}"/>
													<p:ajax event="change" update="codEstado, codCidade"/>
												</h:selectOneMenu>
											</div>
										</div>
										<div class="col-xs-12 col-sm-3">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.estado']}"/>
											<div>
												<h:selectOneMenu id="codEstado"
													class="form-control" title="Estado residente"
													value="#{unidadeEscolarServlet.estadoDado.pkEstado}">
													<f:selectItem itemValue="" itemLabel="Selecione..."/>
													<f:selectItems value="#{unidadeEscolarServlet.comboEstado}"
														var="estado" itemLabel="#{estado.nome}" itemValue="#{estado.pkEstado}"/>
													<p:ajax event="change" update="codCidade"/>
												</h:selectOneMenu>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.municipio']}"/>
											<div>
												<h:selectOneMenu id="codCidade"
													class="form-control" title="Cidade residente"
													value="#{unidadeEscolarServlet.cidadeDado.pkCidade}">
													<f:selectItem itemValue="" itemLabel="Selecione..."/>
													<f:selectItems value="#{unidadeEscolarServlet.comboCidade}"
														var="cidade" itemLabel="#{cidade.nome}" itemValue="#{cidade.pkCidade}"/>
													<p:ajax event="change"/>
												</h:selectOneMenu>
											</div>
										</div>
										<div class="col-xs-12 col-sm-2">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.cep']}"/>
											<div>
												<h:inputText styleClass="col-sm-12 cep" id="numCep" title="Numero do CEP" value="#{unidadeEscolarServlet.enderecoDado.cep}">
													<f:converter converterId="converter.CEP"/>
												</h:inputText>
											</div>
										</div>
									<div class="form-group">
										<div class="col-xs-12 col-sm-6">
											<h:outputLabel
												value="#{mensagens['label.cadastro.pessoa.rua']}" />
											<div>
												<h:inputText type="text" id="codRua"
													class="col-sm-12" title="Nome da Rua"
													value="#{unidadeEscolarServlet.enderecoDado.logradouro}" />
											</div>
										</div>
										<div class="col-xs-12 col-sm-1">
											<h:outputLabel
												value="#{mensagens['label.cadastro.pessoa.numero']}" />
											<div>
												<h:inputText type="text" id="numCasa" 
													class="col-sm-12" title="Numero da Casa"
	 												value="#{unidadeEscolarServlet.enderecoDado.numero}" />
											</div>
										</div>
										<div class="col-xs-12 col-sm-5">
											<h:outputLabel
												value="#{mensagens['label.cadastro.pessoa.bairro']}" />
											<div>
												<h:inputText type="text" id="codBairro" 
													class="col-sm-12" title="Nome do Bairro"
													value="#{unidadeEscolarServlet.enderecoDado.bairro}" />
											</div>
										</div>
										<div class="col-xs-12 col-sm-6">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.complemento']}" />
											<div>
												<h:inputText type="text" id="codComplemento" 
													class="col-sm-12" title="Complemento da Casa"
													value="#{unidadeEscolarServlet.enderecoDado.complemento}" />
											</div>
										</div>
									</div>
									<div class="form-group">
										<div class="col-xs-12 col-sm-2">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.zona.residen']}"/>
											<div>
												<h:selectOneMenu id="codZonaResi" value="#{unidadeEscolarServlet.regiaoDado.pkRegiao}"
													class="form-control" title="Tipo de Zona Residencial">
													<f:selectItem itemValue="" itemLabel="Selecione..."/>
													<f:selectItems value="#{unidadeEscolarServlet.comboZonaResidencial}"
														var="regiao" itemLabel="#{regiao.descricao}" itemValue="#{regiao.pkRegiao}"/>
												</h:selectOneMenu>
											</div>
										</div>
										<div class="col-xs-12 col-sm-2">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.tel.conta']}" />
											<div>
												<h:inputText type="text" id="numTelefone" styleClass="col-sm-12 telResidencial" title="Numero do Telefone">
													<f:converter converterId="converter.TELRESIDENCIAL"/>
												</h:inputText>											
											</div>
										</div>
										<div class="col-xs-12 col-sm-2">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.tel.cel']}" />
											<div>
												<h:inputText type="text" id="numCelular" styleClass="col-sm-12 telCelular" title="Numero do Celular"
												value="#{unidadeEscolarServlet.pessoaDado.telefoneCelular}">
													<f:converter converterId="converter.TELCELULAR"/>
												</h:inputText>
											</div>
										</div>
										<div class="col-xs-12 col-sm-6">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.email']}" />
											<div>
												<h:inputText type="text" id="email"
													class="col-sm-12" title="E-mail da Pessoa"
													value="#{unidadeEscolarServlet.pessoaDado.email}" />
											</div>
										</div>
									</div>
								</div>
							</h:panelGroup>
							
							<h:panelGroup id="panelTerreno" style="width: 100%"
							class="clearfix form-actions">
								<div id="conteudoEndereco">
									<h3 class="header smaller lighter blue">Informações Geográficas</h3>
										<div class="col-xs-12 col-sm-4">
											<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.terreno.distanciaAteSede']}" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.distanciaAteSede}" />
											</div>
										</div>
										<div class="col-xs-12 col-sm-4">
											<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.terreno.areaTerrenoM2']}" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.areaTerrenoM2}" />
											</div>
										</div>
										<div class="col-xs-12 col-sm-4">
											<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.terreno.areaConstrucaoM2']}" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.areaConstrucaoM2}" />
											</div>
										</div>
										<div class="col-xs-12 col-sm-4">
											<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.terreno.latitude']}" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.latitude}" />
											</div>
										</div>
										<div class="col-xs-12 col-sm-4">
											<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.terreno.longitude']}" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.longitude}" />
											</div>
										</div>
								</div>
							</h:panelGroup>
								
							<!-- Botões -->
							<div class="col-sx-12 col-sm-6" id="default-buttons">
								<button type="reset"  id="btResetar" class="btn btn-white btn-info btn-round">
									<i class="ace-icon fa fa-file"/>
									<span class="bigger-110">Novo</span>
								</button>
								
								<h:commandLink type="submit" id="btRegistrar" class="btn btn-white btn-success btn-round"> 
									<span class="bigger-110">Registrar</span>	
									<i class="ace-icon fa fa-arrow-right icon-on-right"></i>
									<p:ajax event="click" listener="#{unidadeEscolarServlet.cadastrarUnidadeEscolar}" update=":formPrincipal" process=":formPrincipal"/>
								</h:commandLink>	
							</div>
						</h:form>
					</div>
				</div>
			</div>
		</ui:define>		
		<ui:define name="scriptPagina">
			<script src="${facesContext.externalContext.requestContextPath}/modulos/secretaria/cadastros/UnidadeEscolar/cadastroUnidadeEscolar.css"/>
			<script src="${facesContext.externalContext.requestContextPath}/modulos/secretaria/cadastros/UnidadeEscolar/cadastroUnidadeEscolar.js"/>
			<script src="${facesContext.externalContext.requestContextPath}/resources/templates/ace/assets/js/jquery.maskedinput.min.js"/>
		</ui:define>
	</ui:composition>
</h:html>
