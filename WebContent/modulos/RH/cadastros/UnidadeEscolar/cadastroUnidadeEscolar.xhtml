<!DOCTYPE html>
<h:html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:composition template="/resources/templates/sisEducar/principal.xhtml">
		<ui:define name="barraNavegacao">
			<li>
				<i class="ace-icon fa fa-file"></i>
				<a href="/SIS-EDUCAR/resources/templates/sisEducar/principal.xhtml">
					Cadastros
				</a>
			</li>
			<li class="active">
				<i class="ace-icon fa fa-flag"></i>
				Unidade Escolar 
			</li>
		</ui:define>

		<ui:define name="scriptConteudo">			
			<div class="page-content">
				<div class="page-header">
					<h1>
						Cadastro
						<small>
							<i class="ace-icon fa fa-angle-double-right"></i>
							Cadastro Unidade Escolar
						</small>
					</h1>
				</div>
				
				<div class="row">
					<div class="col-sm-10">
						<h:form id="formPrincipal">
							<div class="clearfix form-actions">
								<h3 class="header smaller lighter blue">Informações Principais</h3>
								<div class="col-sm-5">
									<div>
										<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.codigo']}"/>
										<span class="block input-icon input-icon-right">
											<h:inputText type="text" class="form-control" value="#{unidadeEscolarServlet.unidadeEscolar.codigo}" maxlength="11" required="true"
											requiredMessage="#{mensagens['mensagem.requerido.unidadeEscolar.codigo']}"></h:inputText>
											<i class="ace-icon fa fa-key"></i>
										</span>
									</div>
								</div>
								<div class="col-sm-10">
									<h:outputLabel value="#{mensagens['label.cadastro.unidadeEscolar.nome']}"/>
									<div>
										<span class="block input-icon input-icon-right">
											<h:inputText type="text" class="form-control" value="#{unidadeEscolarServlet.unidadeEscolar.nome}" maxlength="100" required="true"
											requiredMessage="#{mensagens['mensagem.requerido.unidadeEscolar.nome']}"></h:inputText>
											<i class="ace-icon fa fa-user"></i>
										</span>
									</div>
									<div class="space-4"></div>
								</div>
								<div class="col-sm-5">
									<h:outputLabel value="#{mensagens['label.cadastro.aluno.rede.ensino']}"/>
									<div>
										<h:selectOneMenu class="form-control" id="codRedeEnsino"
											value="#{parametrosServlet.alunoDados.redeEnsino}">
											<f:selectItem itemValue="" itemLabel="Selecione..." />
											<f:selectItems value="#{parametrosServlet.consultaRedeEnsino}" />
										</h:selectOneMenu>
									</div>
								</div>
							</div>
							
							<h:panelGroup id="enderePessoa" style="width: 100%"
							class="clearfix form-actions">
								<div id="conteudoEndereco">
									<h3 class="header smaller lighter blue">Endereço/Contato</h3>
									<div class="form-group">
										<div class="col-sm-3">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.pais']}"/>
											<div>
												<h:selectOneMenu id="codPais"
													class="form-control" title="Pais residente"
													value="#{parametrosServlet.paisDados.pkPais}"
													required="true" requiredMessage="#{mensagens['mensagem.requerido.cadastro.pais']}">
													<f:selectItem itemValue="" itemLabel="Selecione..."/>
													<f:selectItems value="#{parametrosServlet.consultaPais}"
														var="pais" itemLabel="#{pais.nome}" itemValue="#{pais.pkPais}"/>
													<p:ajax event="change" update="codEstado, codCidade"/>
												</h:selectOneMenu>
											</div>
											<div>
												<h:message for="codPais" styleClass="red"/>
											</div>
										</div>
										<div class="col-sm-3">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.estado']}"/>
											<div>
												<h:selectOneMenu id="codEstado"
													class="form-control" title="Estado residente"
													value="#{parametrosServlet.estadoDados.pkEstado}"
													required="true" requiredMessage="#{mensagens['mensagem.requerido.cadastro.estado']}">
													<f:selectItem itemValue="" itemLabel="Selecione..."/>
													<f:selectItems value="#{parametrosServlet.consultaEstado}"
														var="estado" itemLabel="#{estado.nome}" itemValue="#{estado.pkEstado}"/>
													<p:ajax event="change" update="codCidade"/>
												</h:selectOneMenu>
											</div>
											<div>
												<h:message for="codEstado" styleClass="red"/>
											</div>
										</div>
										<div class="col-sm-4">
												<h:outputLabel value="#{mensagens['label.cadastro.pessoa.municipio']}"/>
											<div>
												<h:selectOneMenu id="codCidade"
													class="form-control" title="Cidade residente"
													value="#{parametrosServlet.cidadeDados.pkCidade}"
													required="true" requiredMessage="#{mensagens['mensagem.requerido.cadastro.municipio']}">
													<f:selectItem itemValue="" itemLabel="Selecione..."/>
													<f:selectItems value="#{parametrosServlet.consultaCidade}"
														var="cidade" itemLabel="#{cidade.nome}" itemValue="#{cidade.pkCidade}"/>
													<p:ajax event="change" update="numCep"/>
												</h:selectOneMenu>
											</div>
											<div>
												<h:message for="codCidade" styleClass="red"/>
											</div>
										</div>
										<div class="col-sm-2">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.cep']}"/>
											<div>
												<h:inputText
													class="form-control" id="numCep" title="Numero do CEP"
													value="#{parametrosServlet.enderecoDados.cep}"
													required="true" requiredMessage="#{mensagens['mensagem.requerido.cadastro.cep']}">
													<p:ajax event="blur" listner="#{parametrosServlet.consultaEndereco}"
														update="codRua, numCasa, codBairro, codComplemento"/>
												</h:inputText>
											</div>
											<div>
												<h:message for="numCep" styleClass="red"/>
											</div>
										</div>
									</div>
									<div class="form-group">
										<div class="col-sm-6">
											<h:outputLabel
												value="#{mensagens['label.cadastro.pessoa.rua']}" />
											<div>
												<h:inputText type="text" id="codRua"
													class="col-sm-12" title="Nome da Rua"
													value="#{parametrosServlet.enderecoDados.logradouro}" />
											</div>
										</div>
										<div class="col-sm-1">
											<h:outputLabel
												value="#{mensagens['label.cadastro.pessoa.numero']}" />
											<div>
												<h:inputText type="text" id="numCasa" 
													class="col-sm-12" title="Numero da Casa"
	 												value="#{parametrosServlet.enderecoDados.numero}" />
											</div>
										</div>
										<div class="col-sm-3">
											<h:outputLabel
												value="#{mensagens['label.cadastro.pessoa.bairro']}" />
											<div>
												<h:inputText type="text" id="codBairro" 
													class="col-sm-12" title="Nome do Bairro"
													value="#{parametrosServlet.enderecoDados.bairro}" />
											</div>
										</div>
										<div class="col-sm-2">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.complemento']}" />
											<div>
												<h:inputText type="text" id="codComplemento" 
													class="col-sm-12" title="Complemento da Casa"
													value="#{parametrosServlet.enderecoDados.complemento}" />
											</div>
										</div>
									</div>
									<div class="form-group">
										<div class="col-sm-2">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.zona.residen']}" />
											<div>
												<h:selectOneMenu id="codZonaResi"
													class="form-control" title="Tipo de Zona Residencial">
													<f:selectItem itemValue="" itemLabel="Selecione..." />
													<f:selectItems value="#{parametrosServlet.consultaRegiao}" />
												</h:selectOneMenu>
											</div>
										</div>
										<div class="col-sm-2">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.tel.conta']}" />
											<div>
												<h:inputText type="text" id="numTelefone"
												class="col-sm-12" title="Numero do Telefone"/>											
											</div>
										</div>
										<div class="col-sm-2">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.tel.cel']}" />
											<div>
												<h:inputText type="text" id="numCelular"
												class="col-sm-12" title="Numero do Celular"
												value="#{parametrosServlet.pessoaDados.telefoneCelular}"/>
											</div>
										</div>
										<div class="col-sm-6">
											<h:outputLabel value="#{mensagens['label.cadastro.pessoa.email']}" />
											<div>
												<h:inputText type="text" id="email"
													class="col-sm-12" title="E-mail da Pessoa"
													value="#{parametrosServlet.pessoaDados.email}" />
											</div>
										</div>
									</div>
								</div>
							</h:panelGroup>
							
							<h:panelGroup id="panelTerreno" style="width: 100%"
							class="clearfix form-actions">
								<div id="conteudoEndereco">
									<h3 class="header smaller lighter blue">Informações Geográficas</h3>
										<div class="col-sm-4">
											<h:outputLabel value="Distância até a sede" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.distanciaAteSede}" />
											</div>
										</div>
										<div class="col-sm-4">
											<h:outputLabel value="Área Terreno M²" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.areaTerrenoM2}" />
											</div>
										</div>
										<div class="col-sm-4">
											<h:outputLabel value="Área Construção M²" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.areaConstrucaoM2}" />
											</div>
										</div>
										<div class="col-sm-4">
											<h:outputLabel value="Latitude" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.latitude}" />
											</div>
										</div>
										<div class="col-sm-4">
											<h:outputLabel value="Longitude" />
											<div>
												<h:inputText type="text" class="col-sm-8" 
													value="#{unidadeEscolarServlet.terreno.longitude}" />
											</div>
										</div>
								</div>
							</h:panelGroup>
								
							<!-- Botões -->
							<div class="clearfix">
								<p:messages></p:messages>
								<button type="reset" class="btn btn-sm">
									<i class="ace-icon fa fa-file"></i>
									<span class="bigger-110">Novo</span>
								</button>
								
								<h:commandLink type="submit" id="btRegistrar" class="btn btn-sm btn-success" > 
									<span class="bigger-110">Registrar</span>	
									<i class="ace-icon fa fa-arrow-right icon-on-right"></i>
									<p:ajax event="click" listener="#{unidadeEscolarServlet.cadastrarUnidadeEscolar}" update=":formPrincipal" process=":formPrincipal"/>
							</h:commandLink>	
							</div>
						</h:form>
					</div>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</h:html>
